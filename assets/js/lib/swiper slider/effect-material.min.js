/**
 * UI Initiative Material You Slider
 *
 * Material You Carousel made with Swiper
 *
 * https://uiinitiative.com
 *
 * Copyright 2024 UI Initiative
 *
 * Released under the UI Initiative Regular License
 *
 * January 23, 2024
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).EffectMaterial=t()}(this,(function(){"use strict";function e({swiper:e,duration:t,transformElements:a,allSlides:s}){const{activeIndex:i}=e;if(e.params.virtualTranslate&&0!==t){let t,r=!1;t=s?a:a.filter((t=>{const a=t.classList.contains("swiper-slide-transform")?(t=>{if(!t.parentElement)return e.slides.filter((e=>e.shadowRoot&&e.shadowRoot===t.parentNode))[0];return t.parentElement})(t):t;return e.getSlideIndex(a)===i})),t.forEach((t=>{!function(e,t){t&&e.addEventListener("transitionend",(function a(s){s.target===e&&(t.call(e,s),e.removeEventListener("transitionend",a))}))}(t,(()=>{if(r)return;if(!e||e.destroyed)return;r=!0,e.animating=!1;const t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(t)}))}))}}return"undefined"!=typeof window&&window.SwiperElementRegisterParams&&window.SwiperElementRegisterParams(["materialEffect"]),function({swiper:t,on:a,extendParams:s}){s({materialEffect:{slideSplitRatio:.65}}),a("beforeInit",(()=>{if("material"!==t.params.effect)return;t.classNames.push(`${t.params.containerModifierClass}material`),t.isElement&&t.hostEl&&t.hostEl.classList.add(`swiper-${t.params.direction}`);const e={loopAdditionalSlides:1,watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode};Object.assign(t.params,e),Object.assign(t.originalParams,e)})),a("setTranslate",(()=>{"material"===t.params.effect&&(()=>{const{slides:e,slidesSizesGrid:a,params:s,size:i}=t,{slidesPerView:r,spaceBetween:l,cssMode:n,centeredSlides:o}=s,d=o?.5:Math.min(Math.max(s.materialEffect.slideSplitRatio,0),1),c=o?.5:1-Math.min(Math.max(s.materialEffect.slideSplitRatio,0),1);for(let s=0;s<e.length;s+=1){const p=e[s],f=p.querySelector(".swiper-material-wrapper"),m=p.querySelectorAll(".swiper-material-animate-opacity"),h=p.querySelectorAll("[data-swiper-material-scale]"),u=-p.progress,w=p.swiperSlideOffset,M=t.translate;let y,E=0,S=0;const b=a[s],g=0!==c||o?l/2/b:0,x=n?M:0,P=o&&r%2==1,v=o&&r%2==0;if(u<=0)if(o&&r>1){if(u<=0&&u>=-(r-2)&&(E=M,y=1,S=1),P&&u<-(r-Math.ceil(r/2))){const e=Math.ceil(r/2)-Math.abs(u);y=e,S=y**4,E=M+b*(1-e)*(1+2*g)}if(v&&u<-(r/2-1)&&u>=-r/2){const e=r/2-Math.abs(u);y=d-g+(c+2*g)*(r/2-Math.abs(u)),S=((y-d)/(1-d))**4,E=M+b*(c+g)*(1-e)}if(v&&u<-r/2){let e=r/2+1-Math.abs(u);y=0,e>=0&&(e=2*-g+e*(1+2*g),e=Math.max(Math.min(e,1),0),y=(c-g)*e),E=M+b*(c+g)*(2-e)+b*(c-g)*(1-e)}}else y=1+u,E=-w,S=y**4;if(1===r)u>0&&(y=1-u,E=-w+i*Math.min(u,1),S=y**4);else{if(u>0&&u<=r-2&&(E=M,y=1,S=1),v?u>r/2-1&&u<=r/2:u>r-2&&u<=r-1){const e=v?Math.floor(r/2):1;y=d-g+(c+2*g)*(r-e-Math.abs(u)),E=M,S=1===d?y**4:((y-d)/(1-d))**4}if(P&&u>r-Math.ceil(r/2)){const e=Math.ceil(r/2)-(r-Math.abs(u));E=M-b*(2*g)*e,y=1-e,S=y**4}if(u>r-1&&u<=r&&!o){const e=r-Math.abs(u),t=c-g;y=t+(d-g-t)*e,E=M-b*(c+g)*(1-e),0===c&&(S=y**4)}if(u>(o?r/2:r)&&!P){let e=(o?r/2+1:r+1)-Math.abs(u),t=0;y=0,e>=0&&(e=2*-g+e*(1+2*g),e=Math.max(Math.min(e,1),0),y=(c-g)*e,t=-e*(c+g)*b+e*l),E=-w+i*Math.min(u,1)+t,S=0}}y<0&&(y=0),y>1&&(y=1),p.style.setProperty("--swiper-material-scale",y),m.forEach((e=>{e.style.opacity=S})),h.forEach((e=>{let t=parseFloat(e.getAttribute("data-swiper-material-scale"));(Number.isNaN(t)||!t&&0!==t)&&(t=1),e.style.transform=`scale(${1+(t-1)*(1-y)})`})),t.isHorizontal()?(f.style.width=100*y+"%",f.style.transform=`translate3d(${E-x}px, 0, 0)`):(f.style.height=100*y+"%",f.style.transform=`translate3d(0, ${E-x}px, 0)`)}})()})),a("setTransition",((a,s)=>{"material"===t.params.effect&&(a=>{const{slides:s}=t,i=[];for(let e=0;e<s.length;e+=1){const t=s[e],r=t.querySelector(".swiper-material-wrapper"),l=t.querySelectorAll(".swiper-material-animate-opacity");[r,...t.querySelectorAll("[data-swiper-material-scale]"),...l].forEach((e=>{e.style.transitionDuration=`${a}ms`})),i.push(r)}e({swiper:t,duration:a,transformElements:i,allSlides:!0})})(s)})),a("slidesUpdated",(()=>{if(!t.params.centeredSlides&&t.params.slidesPerView>1&&!t.params.loop&&t.params.materialEffect.slideSplitRatio<1){const e=t.snapGrid[t.snapGrid.length-1];t.snapGrid.push(e+t.slidesSizesGrid[0]+t.params.spaceBetween)}t.el.style.setProperty("--swiper-material-slide-size",`${t.slidesSizesGrid[0]}px`)}))}}));
//# sourceMappingURL=effect-material.min.js.map